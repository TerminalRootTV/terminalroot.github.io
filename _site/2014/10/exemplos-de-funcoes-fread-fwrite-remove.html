<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>Exemplos de funções: fread(), fwrite(), remove() e outras em C</title>
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<meta name="keywords" content="linux, shell script, bash, desenvolvimento, tecnologia">
	<meta name="description" content="fread()">
	<meta name="author" content="Marcos Oliveira">
	<meta name="robots" content="noodp">
	<meta name="reply-to" content="contato@terminalroot.com.br">
	<meta name="generator" content="VIM - Vi IMproved 8.1 (2018 May 18, compiled Apr  7 2019 00:42:18)">
	<meta name="google-site-verification" content="zMxWGsmS5xlxc71KSaJx77T6CfB4bP3hdO_v5qfAsuY">
	<meta name="p:domain_verify" content="2fedc285bd24f0b5808c51a4cbd58e86"/>
	<!-- Favicons -->
	<link href="/assets/img/site/favicon.png" rel="icon">
	<link href="/assets/img/site/apple-touch-icon.png" rel="apple-touch-icon">
	
	<!-- Google Analytics -->
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-75725905-1', 'auto');
	  ga('send', 'pageview');

	</script>

	<!-- Social: Twitter -->
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="@terminalroottv">
	<meta name="twitter:title" content="Exemplos de funções: fread(), fwrite(), remove() e outras em C">
	<meta name="twitter:description" content="Exemplos de funções: fread(), fwrite(), remove() e outras em C">
	
	<meta property="twitter:image:src" content="http://localhost:4000/assets/img/terminalroot.jpg">
	<meta property="twitter:image:src" content="https://raw.githubusercontent.com/TerminalRootTV/terminalroottv.github.io/master/assets/img/terminalroot.com.br.jpg">
	

	<!-- Social: Facebook / Open Graph -->
	<meta property="og:url" content="http://localhost:4000/2014/10/exemplos-de-funcoes-fread-fwrite-remove.html">
	<meta property="og:title" content="Exemplos de funções: fread(), fwrite(), remove() e outras em C">
	
	<meta property="og:image" content="http://localhost:4000/assets/img/terminalroot.jpg">
	<meta property="og:image" content="https://raw.githubusercontent.com/TerminalRootTV/terminalroottv.github.io/master/assets/img/terminalroot.com.br.jpg">
	
	<meta property="og:description" content="Exemplos de funções: fread(), fwrite(), remove() e outras em C">
	<meta property="og:site_name" content="Terminal Root">
	<meta property="fb:admins" content="439112053506193"/>


	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Montserrat:300,400,500,700" rel="stylesheet">
	<!-- Bootstrap CSS File -->
	<link href="/assets/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<!-- Libraries CSS Files -->
	<link href="/assets/lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<link href="/assets/lib/animate/animate.min.css" rel="stylesheet">
	<link href="/assets/lib/ionicons/css/ionicons.min.css" rel="stylesheet">
	<link href="/assets/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
	<link href="/assets/lib/lightbox/css/lightbox.min.css" rel="stylesheet">
	<!-- My Main Stylesheet File -->
	<link rel="stylesheet" href="/assets/css/main.css">
	<link rel="canonical" href="http://localhost:4000/2014/10/exemplos-de-funcoes-fread-fwrite-remove.html">
	<link rel="alternate" type="application/rss+xml" title="Terminal Root" href="http://localhost:4000/feed.xml">
	<!-- Main Stylesheet File -->
	<link rel="stylesheet" href="/assets/css/style.css">
</head>

<body>

<header id="header" class="fixed-top">
 <div class="container">
    <div class="logo float-left">
       <!-- Uncomment below if you prefer to use an image logo -->
       <!-- <h1 class="text-light"><a href="#header"><span>NewBiz</span></a></h1> -->
       <a href="/" class="scrollto"><img src="/assets/img/site/logo-blog.png" alt="Terminal Root Logomarca" class="img-fluid"></a>
    </div>
    <nav class="main-nav float-right d-none d-lg-block">
       <ul>
          <li class="active"><a href="/"><i class="fa fa-home"></i> Home</a></li>
          <li><a href="/promo"><i class="fa fa-user"></i> Promoção</a></li>
          <li><a href="/cursos"><i class="fa fa-graduation-cap"></i> Cursos</a></li>
          <li><a href="/blog"><i class="fa fa-comment"></i> Blog</a></li>
          <li>                  
			<a href="#footer" data-toggle="popover" title="Contate-nos:" data-placement="bottom" data-content="contato@terminalroot.com.br">
				<i class="fa fa-paper-plane"></i> Contato
			</a>					
          </li>
          <li>
			<a data-toggle="modal" data-target="#mySearch" class="mySearch" style="cursor:pointer;color:#fff;">
				<i class="fa fa-search" aria-hidden="true"></i> Busca
			</a>
          </li>
       </ul>
    </nav>
    <!-- .main-nav -->
 </div>
</header>


<section id="post-page-header" class="clearfix">


  <div class="page-post-header-info text-center">
    <h2>Exemplos de funções: fread(), fwrite(), remove() e outras em C</h2>
    <h4>Exemplos de funções: fread(), fwrite(), remove() e outras em C</h4>
	<p style="color: #babdb6;">
		<time datetime="2014-10-29T23:01:00-02:00" itemprop="datePublished">Oct 29, 2014</time>
	</p>
  </div>
</section><!-- #page-post-header -->
  
  <main id="main">
  <section id="post-page">
 
  	<h2 id="fread">fread()</h2>

<p>Podemos escrever e ler blocos de dados. Para tanto, temos as funções fread() e fwrite(). O protótipo de fread() é:</p>

<p><sub>unsigned fread (void *buffer, int numero_de_bytes, int count, FILE *fp);</sub></p>

<p>O buffer é a região de memória na qual serão armazenados os dados lidos. O número de bytes é o tamanho da unidade a ser lida. count indica quantas unidades devem ser lidas. Isto significa que o número total de bytes lidos é:</p>

<blockquote>
  <p>numero_de_bytes*count</p>
</blockquote>

<p>A função retorna o número de unidades efetivamente lidas. Este número pode ser menor que count quando o fim do arquivo for encontrado ou ocorrer algum erro.
Quando o arquivo for aberto para dados binários, fread pode ler qualquer tipo de dados.</p>

<p>Exemplo:</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="c1">// Declaramos um ponteiro(link para o endereço da memória) para o arquivo de nome: 'pf'</span>
<span class="kt">FILE</span> <span class="o">*</span><span class="n">pf</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">conteudo</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>

<span class="n">pf</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="s">"arquivos/texto.txt"</span><span class="p">,</span> <span class="s">"rb"</span><span class="p">);</span> <span class="cm">/* Abre o arquivo novamente para leitura */</span>

<span class="n">fread</span><span class="p">(</span><span class="o">&amp;</span><span class="n">conteudo</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span> <span class="mi">100</span><span class="p">,</span><span class="n">pf</span><span class="p">);</span> <span class="cm">/* Le em conteudo o valor da variável armazenada anteriormente pf */</span>

<span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">O conteúdo do arquivo é':</span><span class="se">\n</span><span class="s"> %s </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">conteudo</span><span class="p">);</span>

<span class="n">fclose</span><span class="p">(</span><span class="n">pf</span><span class="p">);</span>

<span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<h2 id="fwrite">fwrite()</h2>

<p>A função fwrite() funciona como a sua companheira fread(), porém escrevendo no arquivo. Seu protótipo é:</p>

<p><sub>unsigned fwrite(void *buffer,int numero_de_bytes,int count,FILE *fp);</sub></p>

<p>A função retorna o número de itens escritos. Este valor será igual a count a menos que ocorra algum erro.</p>

<p>Exemplo:</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="kt">FILE</span> <span class="o">*</span><span class="n">pf</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">NUM</span> <span class="o">=</span> <span class="mi">88</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">pilido</span><span class="p">;</span>
<span class="k">if</span><span class="p">((</span><span class="n">pf</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="s">"arquivos/arquivo.bin"</span><span class="p">,</span> <span class="s">"wb"</span><span class="p">))</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="cm">/* Abre arquivo binário para escrita */</span>
<span class="p">{</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"Erro na abertura do arquivo"</span><span class="p">);</span>
<span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">if</span><span class="p">(</span><span class="n">fwrite</span><span class="p">(</span><span class="o">&amp;</span><span class="n">NUM</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span><span class="n">pf</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">)</span>     <span class="cm">/* Escreve a variável NUM | o operador sizeof, que retorna o tamanho em bytes da variável ou do tipo de dados. */</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"Erro na escrita do arquivo"</span><span class="p">);</span>
<span class="n">fclose</span><span class="p">(</span><span class="n">pf</span><span class="p">);</span>                                    <span class="cm">/* Fecha o arquivo */</span>
<span class="k">if</span><span class="p">((</span><span class="n">pf</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="s">"arquivos/arquivo.bin"</span><span class="p">,</span> <span class="s">"rb"</span><span class="p">))</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="cm">/* Abre o arquivo novamente para leitura */</span>
<span class="p">{</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"Erro na abertura do arquivo"</span><span class="p">);</span>
<span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">if</span><span class="p">(</span><span class="n">fread</span><span class="p">(</span><span class="o">&amp;</span><span class="n">pilido</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span><span class="n">pf</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">)</span> <span class="cm">/* Le em pilido o valor da variável armazenada anteriormente */</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"Erro na leitura do arquivo"</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">O valor de NUM, lido do arquivo e': %d </span><span class="se">\n\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pilido</span><span class="p">);</span>
<span class="n">fclose</span><span class="p">(</span><span class="n">pf</span><span class="p">);</span>
<span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<h2 id="remove">remove()</h2>

<p>Protótipo:</p>

<blockquote>
  <p>int remove (char *nome_do_arquivo);</p>
</blockquote>

<p>Apaga um arquivo especificado.</p>

<p>Exemplo:</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>      
    <span class="cm">/*  0(zero) é verdadeiro(true), e 1(um) é falso(false), em C usa-se números! */</span>
    <span class="k">if</span><span class="p">(</span><span class="n">remove</span><span class="p">(</span><span class="s">"arquivo_a_ser_removido.txt"</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Arquivo removido com sucesso!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
  <span class="p">}</span><span class="k">else</span><span class="p">{</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">"Não removido, talvez não exista.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<h1 id="fprintf-e-fscanf">fprintf() e fscanf()</h1>

<p>Os fluxos padrão em arquivos permitem ao programador ler e escrever em arquivos da maneira padrão com a qual o já líamos e escrevíamos na tela.</p>

<h2 id="fprintf">fprintf():</h2>

<p>A função <em>fprintf()</em> funciona como a <em>função printf()</em>. A diferença é que a saída de <em>fprintf()</em> é um arquivo e não a tela do computador.</p>

<p>Protótipo:</p>
<blockquote>
  <p>int fprintf (FILE *fp,char *str,…);</p>
</blockquote>

<p>Como já poderíamos esperar, a única diferença do protótipo de <em>fprintf()</em> para o de <em>printf()</em> é a especificação do arquivo destino através do ponteiro de arquivo.</p>

<h2 id="fscanf">fscanf():</h2>

<p>A função [fscanf()] funciona como a função [scanf()]. A diferença é que [fscanf()] lê de um arquivo e não do teclado do computador.</p>

<p>Exemplo de fprintf e fscanf:</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">FILE</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">str</span><span class="p">[</span><span class="mi">80</span><span class="p">],</span><span class="n">c</span><span class="p">;</span>
  <span class="cm">/* Le um nome para o arquivo a ser aberto: */</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n\n</span><span class="s"> Entre com um nome para o arquivo:</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
  <span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">str</span><span class="p">);</span> <span class="cm">/* não se usa a função gets() e sim scanf dessa forma */</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">p</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="s">"w"</span><span class="p">)))</span> <span class="cm">/* Caso ocorra algum erro na abertura do arquivo..*/</span>
  <span class="p">{</span>                            <span class="cm">/* o programa aborta automaticamente */</span>
           <span class="n">printf</span><span class="p">(</span><span class="s">"Erro! Impossivel abrir o arquivo!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
           <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="cm">/* Se nao houve erro, imprime no arquivo, fecha ...*/</span>
  <span class="n">fprintf</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="s">"Este e um arquivo chamado(com ou sem caminho e formato):</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">str</span><span class="p">);</span>
  <span class="n">fclose</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
  <span class="cm">/* abre novamente para a leitura   */</span>
  <span class="n">p</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="s">"r"</span><span class="p">);</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">feof</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
  <span class="p">{</span>
           <span class="n">fscanf</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="s">"%c"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">c</span><span class="p">);</span>
           <span class="n">printf</span><span class="p">(</span><span class="s">"%c"</span><span class="p">,</span><span class="n">c</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">fclose</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
  <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<h2 id="fputs">fputs()</h2>

<p>Os C biblioteca de funções int fputs (const char * str, FILE * stream) escreve uma string para o fluxo especificado até, mas não incluindo o caractere nulo.</p>

<p><em>Declaração</em></p>

<p>Segue-se a declaração para a função fputs ():</p>

<blockquote>
  <p>int fputs (const char * str, FILE * stream)</p>
</blockquote>

<p>Parâmetros</p>

<blockquote>
  <p>str - Este é um array contendo a seqüência de terminação nula de caracteres a serem escritos.</p>
</blockquote>

<blockquote>
  <p>fluxo - Este é o ponteiro para um objeto de arquivo que identifica o fluxo onde a corda está a ser escrito.</p>
</blockquote>

<p>Valor de retorno</p>

<p>Escreve uma string num arquivo.
Esta função retorna um valor não-negativo mais, em caso de erro devolve EOF.</p>

<p>Exemplo:</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="kt">FILE</span> <span class="o">*</span><span class="n">fp</span><span class="p">;</span>

<span class="n">fp</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="s">"arquivos/fputs.txt"</span><span class="p">,</span> <span class="s">"w+"</span><span class="p">);</span>

<span class="n">fputs</span><span class="p">(</span><span class="s">"Esta é a programação c."</span><span class="p">,</span> <span class="n">fp</span><span class="p">);</span>
<span class="n">fputs</span><span class="p">(</span><span class="s">"Esta é uma linguagem de programação do sistema."</span><span class="p">,</span> <span class="n">fp</span><span class="p">);</span>

<span class="n">fclose</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>

<span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>Vamos compilar e executar o programa acima, isso vai criar um arquivo.txt arquivo com o seguinte conteúdo: 
Esta é a programação c.Esta é uma linguagem de programação do sistema.</p>

<h2 id="fgets">fgets()</h2>

<p>Para se ler uma string num arquivo podemos usar fgets() cujo protótipo é:</p>

<blockquote>
  <p>char *fgets (char *str, int tamanho,FILE *fp);</p>
</blockquote>

<p>A função recebe 3 argumentos: a string a ser lida, o limite máximo de caracteres a serem lidos e o ponteiro para FILE, que está associado ao arquivo de onde a string será lida.A função lê a string até que um caracter de nova linha seja lido ou tamanho-1 caracteres tenham sido lidos. Se o caracter de nova linha (‘\n’) for lido, ele fará parte da string, o que não acontecia com gets. A string resultante sempre terminará com ‘\0’ (por isto somente tamanho-1 caracteres, no máximo, serão lidos). A função fgets é semelhante à função gets(), porém, além dela poder fazer a leitura a partir de um arquivo de dados e incluir o caracter de nova linha na string, ela ainda especifica o tamanho máximo da string de entrada. Como vimos, a função gets não tinha este controle, o que poderia acarretar erros de “estouro de buffer”. Portanto, levando em conta que o ponteiro fp pode ser substituído por stdin, como vimos acima, uma alternativa ao uso de gets é usar a seguinte construção:</p>

<blockquote>
  <p>fgets (str, tamanho, stdin);</p>
</blockquote>

<p>onde str e’ a string que se está lendo e tamanho deve ser igual ao tamanho alocado para a string subtraído de 1, por causa do ‘\0’.</p>

<p>Exemplo:</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">FILE</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">str</span><span class="p">[</span><span class="mi">30</span><span class="p">],</span> <span class="n">frase</span><span class="p">[]</span> <span class="o">=</span> <span class="s">"Este e um arquivo chamado: "</span><span class="p">,</span> <span class="n">resposta</span><span class="p">[</span><span class="mi">80</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="cm">/* Le um nome para o arquivo a ser aberto: */</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n\n</span><span class="s"> Entre com um nome para o arquivo:</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="n">fgets</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="n">stdin</span><span class="p">);</span>                                    <span class="cm">/* Usa fgets como se fosse gets */</span>
    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="k">if</span><span class="p">(</span><span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="sc">'\n'</span><span class="p">)</span> <span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>        <span class="cm">/* Elimina o \n da string lida */</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">p</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="s">"w"</span><span class="p">)))</span>                              <span class="cm">/* Caso ocorra algum erro na abertura do arquivo..*/</span>
    <span class="p">{</span>                                                       <span class="cm">/* o programa aborta automaticamente */</span>
             <span class="n">printf</span><span class="p">(</span><span class="s">"Erro! Impossivel abrir o arquivo!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
             <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="cm">/* Se nao houve erro, imprime no arquivo, e o fecha ...*/</span>
    <span class="n">fputs</span><span class="p">(</span><span class="n">frase</span><span class="p">,</span> <span class="n">p</span><span class="p">);</span>
    <span class="n">fputs</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="n">p</span><span class="p">);</span>
    <span class="n">fclose</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
    <span class="cm">/* abre novamente e le */</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="s">"r"</span><span class="p">);</span>
    <span class="n">fgets</span><span class="p">(</span><span class="n">resposta</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="n">p</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">resposta</span><span class="p">);</span>
    <span class="n">fclose</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>                       <span class="cm">/* Fecha o arquivo */</span>
    <span class="n">remove</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>                     <span class="cm">/* Apaga o arquivo */</span>
    <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<h2 id="ferror-e-perror">ferror() e perror()</h2>

<p>Protótipo de ferror:</p>

<blockquote>
  <p>int ferror (FILE *fp);
A função retorna zero, se nenhum erro ocorreu e um número diferente de zero se algum erro ocorreu durante o acesso ao arquivo.
ferror() se torna muito útil quando queremos verificar se cada acesso a um arquivo teve sucesso, de modo que consigamos garantir a integridade dos nossos dados. Na maioria dos casos, se um arquivo pode ser aberto, ele pode ser lido ou gravado. Porém, existem situações em que isto não ocorre. Por exemplo, pode acabar o espaço em disco enquanto gravamos, ou o disco pode estar com problemas e não conseguimos ler, etc. Uma função que pode ser usada em conjunto com ferror() é a função <strong>perror() (print error)</strong>, cujo argumento é uma string que normalmente indica em que parte do programa o problema ocorreu.</p>
</blockquote>

<p>Exemplo:</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="kt">FILE</span> <span class="o">*</span><span class="n">pf</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">string</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
<span class="k">if</span><span class="p">((</span><span class="n">pf</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="s">"arquivo.txt"</span><span class="p">,</span><span class="s">"w"</span><span class="p">))</span> <span class="o">==</span><span class="nb">NULL</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Nao consigo abrir o arquivo ! "</span><span class="p">);</span>
  <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">do</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Digite uma nova string. Para terminar, digite &lt;enter&gt;: "</span><span class="p">);</span>
  <span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">string</span><span class="p">);</span> <span class="cm">/* não se usa a função gets() e sim scanf dessa forma */</span>
  <span class="n">fputs</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">pf</span><span class="p">);</span>
  <span class="n">putc</span><span class="p">(</span><span class="sc">'\n'</span><span class="p">,</span> <span class="n">pf</span><span class="p">);</span>
  <span class="k">if</span><span class="p">(</span><span class="n">ferror</span><span class="p">(</span><span class="n">pf</span><span class="p">))</span>
  <span class="p">{</span>
      <span class="n">perror</span><span class="p">(</span><span class="s">"Erro na gravacao"</span><span class="p">);</span>
      <span class="n">fclose</span><span class="p">(</span><span class="n">pf</span><span class="p">);</span>
      <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">strlen</span><span class="p">(</span><span class="n">string</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">);</span>
<span class="n">fclose</span><span class="p">(</span><span class="n">pf</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<h2 id="fseek">fseek()</h2>

<p>Para se fazer procuras e acessos randômicos em arquivos usa-se a função fseek(). Esta move a posição corrente de leitura ou escrita no arquivo de um valor especificado, a partir de um ponto especificado. Seu protótipo é:</p>

<blockquote>
  <p>int fseek (FILE *fp,long numbytes,int origem);</p>
</blockquote>

<p>O parâmetro origem determina a partir de onde os numbytes de movimentação serão contados. Os valores possíveis são definidos por macros em stdio.h e são:</p>

<blockquote>
  <p>Nome    Valor       Significado</p>

  <p>SEEK_SET       0        Início do arquivo
SEEK_CUR       1        Ponto corrente no arquivo
SEEK_END       2        Fim do arquivo</p>
</blockquote>

<p>Tendo-se definido a partir de onde irá se contar, numbytes determina quantos bytes de deslocamento serão dados na posição atual.</p>

<h2 id="rewind">rewind()</h2>

<p>A função rewind() de protótipo:</p>

<blockquote>
  <p>void rewind (FILE *fp);</p>
</blockquote>

<p>retorna a posição corrente do arquivo para o início.</p>


  </section>
  </main>
  
  <section id="marketing" class="section-bg" style="color: #fff;">
  <div class="container text-center">
    <p class="ph1">Curso Intensivo de Shell Script Avançado</p>
    <p>Aprenda tudo sobre Terminfo e Termcap, manipulação de Sistema de Arquivos via linha de comando, criação de games, manuais, processos, animações em ASCII e Unicode.</p>
    <a href="/shell">
    	<button class="btn btn-saiba-mais">Mais detalhes</button>
    </a>
  </div>
</section><!-- #marketing -->


</div>



<footer id="footer">
 <div class="footer-top">
    <div class="container">
       <div class="row">
          <div class="col-lg-4 col-md-6 footer-info">
             <p><img src="/assets/img/site/logo-blog.png" alt="" class="img-fluid"></p>
             <br>
             <p>Site sobre GNU/Linux, Desenvolvimento de software, Gentoo, BSD, Open Source e Software Livre . Compra segura e conteúdo confiável via PagSeguro e PayPal .</p>
             <br>
             <img src="/assets/img/site/paycards.png" alt="Bandeiras de cartões" title="Via PagSeguro e PayPal" class="img-footer">
          </div>
          <div class="col-lg-2 col-md-6 footer-links">
             <h4>Links úteis</h4>
             <ul>
                <li><a href="#intro">Home</a></li>
                <li><a href="#about">Como funciona</a></li>
                <li><a href="#services">Cursos</a></li>
                <li><a href="#why-us">Blog</a></li>
             </ul>
          </div>
          <div class="col-lg-3 col-md-6 footer-contact">
             <h4>Contato</h4>
             <p>
                Londrina, Paraná<br>
                Brasil <br>
                <strong>Email:</strong> contato@terminalroot.com.br<br>
             </p>
             <div class="social-links">
                <a href="https://youtube.com/TerminalRootTV" class="youtube"><i class="fa fa-youtube"></i></a>
                <a href="https://twitter.com/TerminalRootTV" class="twitter"><i class="fa fa-twitter"></i></a>
                <a href="https://facebook.com/TerminalRootTV" class="facebook"><i class="fa fa-facebook"></i></a>
                <a href="https://rss.com/TerminalRootTV" class="rss"><i class="fa fa-rss"></i></a>                            
             </div>
          </div>
          <div class="col-lg-3 col-md-6 footer-newsletter">
             <h4>Nosso Newsletter</h4>
             <p>Receba nossas novidades por e-mail.</p>
             <div id="form">
                <input type="email" name="email" id="email"><input type="submit" class="register" value="Inscreva-me">
             </div>
          </div>
       </div>
    </div>
 </div>
 <div class="container">
    <div class="copyright">
       &copy; Copyright <strong>Terminal Root</strong>. Todos os Direitos Reservados
    </div>
    <!--
       <div class="credits">        
         By <a href="https://bootstrapmade.com/">BootstrapMade</a> e modificado por <a href="https://www.linkedin.com/in/marcos-oliveira-049327166/">Marcos Oliveira</a>
       </div>
       -->
 </div>
</footer>

<!-- #footer -->
<a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
<!-- Uncomment below i you want to use a preloader -->
<!-- <div id="preloader"></div> -->
<!-- JavaScript Libraries -->
<script src="/assets/lib/jquery/jquery.min.js"></script>
<script src="/assets/lib/jquery/jquery-migrate.min.js"></script>
<script src="/assets/lib/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/assets/lib/easing/easing.min.js"></script>
<script src="/assets/lib/mobile-nav/mobile-nav.js"></script>
<script src="/assets/lib/wow/wow.min.js"></script>
<script src="/assets/lib/waypoints/waypoints.min.js"></script>
<script src="/assets/lib/counterup/counterup.min.js"></script>
<script src="/assets/lib/owlcarousel/owl.carousel.min.js"></script>
<script src="/assets/lib/isotope/isotope.pkgd.min.js"></script>
<script src="/assets/lib/lightbox/js/lightbox.min.js"></script>
<script src="/assets/js/main.js"></script>
<script src="/assets/js/sweetalert.min.js"></script>
<script>
$(document).ready(function(){
	$('[data-toggle="popover"]').popover();
	$(".close").click(function(){
		//alert("Clicou");
		//$("#mySearch").hide();
		location.reload();
	});
	$(".register").click(function(){
		var mail = $("#email").val();
		if ( mail != "" ){
			var msg = "Olá, " + mail + "!\n";
		}else{
			var msg = "";
		}
		swal(msg + "Esse campo ainda está em desenvolvimento.\nObrigado por tentar se inscrever.");
	});
});
</script>
  <div class="modal fade text-center" id="mySearch" role="dialog">

    
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal">&times;</button>
    </div>
    
    <input type="text" id="search-input" value="Digite o que você procura aqui" onblur="if(this.value == ''){ this.value='Digite o que você procura aqui';}" onfocus="if(this.value == 'Digite o que você procura aqui'){ this.value='';}">
    <br>
    <ul id="results-container"></ul>
      
    </div>
    
  <script src="/assets/js/search-script.min.js" type="text/javascript"></script>
  <script>
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '/search.json',
  })
  </script>



</body>
</html>
